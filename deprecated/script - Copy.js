        // ðŸ“ CONFIGURATION SECTION - EDIT THIS!
        // ============================================
        // ============================================
        // ðŸ“ CONFIGURATION SECTION - EDIT THIS!
        // ============================================
        const CANDIDATE_INFO = {
            name: "Marc Larouche",
            title: "Cybersecurity Professional | GRC Specialist | Security Tool Developer",
            
            about: {
                summary: "Cybersecurity and GRC professional with 15+ years of experience in security governance, compliance, risk management, and information security. Expertise in NIST RMF 800-53 security frameworks, cloud security, and hands-on systems administration. Currently building AI-powered cybersecurity tools and writing about practical security at CyberLifeCoach.pro. Strong technical background in security configurations, vulnerability management, audit preparation, and technical writing.",
                yearsExperience: "15+",
                projectsCompleted: "50+",
                happyClients: "US Navy, IRS, Federal Agencies"
            },
            
            skills: {
                "Security & Compliance": [
                    "NIST 800-53", 
                    "Risk Management Framework (RMF)", 
                    "ISO 27001", 
                    "SOC2", 
                    "PCI-DSS", 
                    "FISMA Compliance",
                    "GDPR",
                    "CCPA",
                    "Security Assessments",
                    "Vulnerability Management",
                    "Security Audits",
                    "Third-Party Audit Support",
                    "SCAP",
                    "Continuous Monitoring"
                ],
                "Cloud Security": [
                    "AWS Solutions Architect",
                    "Azure Administrator",
                    "AWS Cloud Practitioner",
                    "Cloud Security Controls",
                    "AWS (EC2, S3, Lambda, RDS)",
                    "Azure Security",
                    "Cloud Governance",
                    "Cloud Compliance"
                ],
                "Systems & Infrastructure": [
                    "Windows Server 2008-2019",
                    "SQL Server 2008-2019",
                    "Hyper-V Virtualization",
                    "VMware vSphere 5.1-6.7",
                    "IIS 6-7.5",
                    "Active Directory",
                    "PowerShell",
                    "Linux Administration",
                    "Database Security",
                    "System Hardening",
                    "Disaster Recovery",
                    "Backup Solutions (Veritas)"
                ],
                "Security Tools & Technologies": [
                    "Nessus",
                    "Retina",
                    "SCAP Scanning",
                    "MBSA",
                    "Log Analysis Tools",
                    "Security Monitoring",
                    "Vulnerability Scanners",
                    "Penetration Testing Tools",
                    "SIEM Solutions"
                ],
                "Networking & Infrastructure": [
                    "CCNA",
                    "TCP/IP",
                    "VPN",
                    "Network Security",
                    "Firewall Configuration",
                    "Network Monitoring"
                ],
                "Technical Writing & Documentation": [
                    "Security Policy Development",
                    "Standard Operating Procedures (SOPs)",
                    "Technical Documentation",
                    "Compliance Documentation",
                    "Security Assessment Reports",
                    "Technical Content Editing",
                    "Exam Development",
                    "Training Materials",
                    "Instructional Design"
                ],
                "Development & Automation": [
                    "PowerShell Scripting",
                    "Python",
                    "Batch Scripting",
                    "SQL Query Development",
                    "Process Automation",
                    "AI Tool Development"
                ],
                "Leadership & Management": [
                    "Team Leadership",
                    "Project Management",
                    "Stakeholder Communication",
                    "Cross-functional Collaboration",
                    "Training & Mentoring",
                    "Continuous Process Improvement"
                ]
            },
            
            experience: [
                {
                    title: "Technical Consultant & Content Editor",
                    company: "MJTechniques, LLC",
                    period: "Jan 2022 - Nov 2023",
                    description: "Remote technical consulting focused on cybersecurity content development and technical editing. Authored and reviewed technical exams for cybersecurity, networking, and data analysis certifications. Collaborated with subject matter experts to ensure accuracy and instructional effectiveness.",
                    projectsAtCompany: [
                        {
                            name: "Cybersecurity Exam Development",
                            description: "Authored technical exam questions for cybersecurity certifications covering security frameworks, risk management, and compliance",
                            technologies: ["NIST Frameworks", "Security Concepts", "Risk Management", "Compliance Standards"],
                            impact: "Developed comprehensive exam content improving certification processes for IT professionals"
                        },
                        {
                            name: "Technical Publication Reviews",
                            description: "Conducted detailed reviews of IT and cybersecurity publications for clarity, accuracy, and instructional value",
                            technologies: ["Technical Writing", "Content Editing", "Quality Assurance"],
                            impact: "Enhanced quality and effectiveness of technical learning materials"
                        },
                        {
                            name: "SME Collaboration",
                            description: "Worked with subject matter experts to refine technical narratives and align content with learning objectives",
                            technologies: ["Instructional Design", "Technical Communication"],
                            impact: "Improved technical accuracy and learning outcomes across certification programs"
                        }
                    ]
                },
                {
                    title: "Senior Information Security Administrator",
                    company: "Naval Sea Systems Command (NAVSEA), NSWC PHD",
                    period: "Sep 2011 - Mar 2021",
                    description: "Led Risk Management Framework (RMF) implementation for securing US Navy systems. Managed security assessments, audits, compliance evaluations, and continuous monitoring for mission-critical Navy systems. Designed and implemented cloud security controls, vulnerability management programs, and security policies. Led server virtualization and P2V migration projects while maintaining FISMA compliance.",
                    projectsAtCompany: [
                        {
                            name: "RMF Implementation for Navy Systems",
                            description: "Led complete Risk Management Framework implementation for Naval System Data Support Activity (NSDSA) Knowledge Management systems",
                            technologies: ["NIST 800-53", "RMF", "FISMA", "Security Controls", "Continuous Monitoring"],
                            impact: "Achieved and maintained Authority to Operate (ATO) for critical Navy technical manual distribution systems"
                        },
                        {
                            name: "Cloud Security Controls Implementation",
                            description: "Designed and implemented security controls for AWS and Azure cloud environments supporting Navy operations",
                            technologies: ["AWS", "Azure", "Cloud Security", "NIST 800-53", "Security Architecture"],
                            impact: "Enabled secure cloud adoption while maintaining compliance with DoD security requirements"
                        },
                        {
                            name: "Virtual Server Environment Leadership",
                            description: "Led P2V migration from on-premise systems to Hyper-V virtualized infrastructure for NSDSA technical manual systems",
                            technologies: ["Hyper-V", "VMware vSphere", "Windows Server", "Virtualization", "Migration Planning"],
                            impact: "Improved system reliability, disaster recovery capabilities, and operational efficiency"
                        },
                        {
                            name: "SQL Server Security & Administration",
                            description: "Implemented database encryption, security audits, and monitoring for SQL Server instances supporting Navy knowledge management",
                            technologies: ["SQL Server 2008-2012", "Database Encryption", "SQL Auditing", "Security Policies", "Performance Tuning"],
                            impact: "Enhanced database security posture while maintaining 99.9% uptime for mission-critical systems"
                        },
                        {
                            name: "Security Monitoring & Log Analysis",
                            description: "Implemented comprehensive log monitoring with automated alerts for security events across web and database servers",
                            technologies: ["IIS", "SQL Server", "Log Analysis", "SIEM", "Security Monitoring", "Alerting Systems"],
                            impact: "Reduced incident response time and improved threat detection capabilities"
                        },
                        {
                            name: "Vulnerability Management Program",
                            description: "Conducted regular security evaluations using SCAP, Retina, MBSA, and Nessus scanning tools with systematic remediation tracking",
                            technologies: ["Nessus", "SCAP", "Retina", "MBSA", "Vulnerability Assessment", "Remediation Planning"],
                            impact: "Consistently met DoD security objectives with 95%+ remediation rates within required timeframes"
                        },
                        {
                            name: "Security Policy & SOP Development",
                            description: "Developed comprehensive Standard Operating Procedures covering all aspects of system administration, security operations, and compliance",
                            technologies: ["Technical Writing", "Policy Development", "Compliance Documentation", "Process Documentation"],
                            impact: "Created operational documentation meeting Navy IA requirements and improving team consistency"
                        },
                        {
                            name: "Third-Party Audit Management",
                            description: "Managed external security audits ensuring regulatory compliance with NIST 800-53 and DoD requirements",
                            technologies: ["Audit Preparation", "Evidence Collection", "Compliance Reporting", "Stakeholder Management"],
                            impact: "Successfully passed all security audits with zero critical findings"
                        },
                        {
                            name: "Datacenter Migration Project",
                            description: "Coordinated V2V datacenter migration for NSDSA and TDMIS servers with zero downtime during transition",
                            technologies: ["Migration Planning", "Risk Management", "Testing", "Coordination", "Change Management"],
                            impact: "Seamless migration maintaining operational availability for Fleet users worldwide"
                        }
                    ]
                },
                {
                    title: "Information Technology Specialist (GS-2210-12)",
                    company: "Internal Revenue Service (IRS), Office of Chief Counsel",
                    period: "Sep 2004 - Sep 2011",
                    description: "Managed security compliance for IRS IT infrastructure across Western Area offices. Led security hardening initiatives, conducted security audits and risk assessments aligned with federal standards. Provided technical support, system administration, and security guidance for over 200 users across multiple locations.",
                    projectsAtCompany: [
        {
            name: "Security Compliance Management",
            description: "Led monthly security testing, validation, and reporting using SCAP, HFNetCheck, and Windows Policy Checker across all managed systems",
            technologies: ["SCAP", "HFNetCheck", "Windows Policy Checker", "Security Testing", "Compliance Reporting", "Vulnerability Remediation"],
            impact: "Achieved 100% security compliance rate every month meeting all federal security objectives"
        },
        {
            name: "SharePoint Administration for Western Area",
            description: "Served as SharePoint Site Administrator managing collaboration platforms for Chief Counsel Western Area offices",
            technologies: ["SharePoint", "Site Administration", "Permissions Management", "Document Management", "Workflow Configuration"],
            impact: "Enabled secure document sharing and collaboration across geographically distributed legal teams"
        },
        {
            name: "SQL Server Security Remediation",
            description: "Team member on organization-wide SQL server remediation project assisting remote offices in identifying and securing vulnerable SQL installations",
            technologies: ["SQL Server", "Security Hardening", "Vulnerability Assessment", "Remote Support", "Patch Management"],
            impact: "Eliminated critical SQL vulnerabilities across Western Area infrastructure protecting sensitive IRS data"
        },
        {
            name: "IBM Backup System Security Fix",
            description: "Identified critical open port vulnerability in IBM tape backup systems and coordinated with IBM engineers to develop and implement resolution",
            technologies: ["IBM Backup Systems", "Vulnerability Analysis", "Vendor Coordination", "Security Patching", "Port Security"],
            impact: "Closed critical security vulnerability protecting backup infrastructure from potential exploitation"
        },
        {
            name: "Veritas Backup Administration",
            description: "Primary Veritas Site Backup Administrator for Los Angeles office and secondary administrator for Thousand Oaks remote office",
            technologies: ["Veritas Backup Exec", "Tape Backup", "Disaster Recovery", "Backup Monitoring", "Restoration Procedures"],
            impact: "Maintained 99.9% backup success rate with zero data loss incidents across both locations"
        },
        {
            name: "Rapid Desktop Deployment Program",
            description: "Developed streamlined process to build, deploy, and configure desktops, laptops, and mobile devices within 4-hour turnaround",
            technologies: ["Windows Deployment", "Imaging", "Configuration Management", "Hardware Installation", "User Setup"],
            impact: "Reduced deployment time from 2 days to 4 hours significantly improving customer satisfaction"
        },
        {
            name: "IT Knowledge Base Development",
            description: "Created comprehensive Chief Counsel IT Knowledge Base for new IT specialists covering business operations, applications, and support procedures",
            technologies: ["Knowledge Management", "Documentation", "Process Documentation", "Training Materials", "SharePoint"],
            impact: "Reduced new IT specialist onboarding time by 40% through structured knowledge transfer"
        },
        {
            name: "New Hire Computer Training Course",
            description: "Designed and delivered Introduction to Computer Course addressing skill gaps in new Chief Counsel employees",
            technologies: ["Instructional Design", "Training Delivery", "Skills Assessment", "Microsoft Office", "Email Systems"],
            impact: "Improved technical proficiency of new employees reducing support burden by 30%"
        },
        {
            name: "E-Discovery Technical Support",
            description: "Provided technical support for e-discovery team in gathering electronic records to meet legal discovery inquiries and litigation holds",
            technologies: ["E-Discovery Tools", "PST Collection", "Email Archives", "Legal Hold", "Chain of Custody", "Data Preservation"],
            impact: "Enabled timely and accurate responses to discovery requests supporting Chief Counsel litigation efforts"
        },
        {
            name: "Imaging Device Security Deployment",
            description: "Led installation, security configuration, and deployment of network imaging devices, printers, and multifunction copiers/scanners",
            technologies: ["Network Printers", "MFP Security", "Device Configuration", "Access Control", "Secure Printing"],
            impact: "Deployed 50+ secure imaging devices meeting IRS security standards"
        },
        {
            name: "Remote Office VPN Support",
            description: "Provided VPN troubleshooting and remote support for distributed offices using RDP and SMS management tools",
            technologies: ["VPN", "Remote Desktop", "SMS", "Remote Troubleshooting", "Network Connectivity"],
            impact: "Maintained secure connectivity for remote workers with 95% first-call resolution rate"
        },
        {
            name: "Automated Deployment & Security Scripts",
            description: "Developed and scheduled batch jobs and SMS scripts for automated software deployment and security configuration across servers and endpoints",
            technologies: ["Batch Scripting", "SMS", "Task Scheduler", "Automation", "Configuration Management"],
            impact: "Automated routine tasks saving 20+ hours weekly and ensuring consistent security configurations"
        },
        {
            name: "Legal Applications Support",
            description: "Installed and supported COTS applications, legal imaging software, and in-house IRS applications providing excellent customer service",
            technologies: ["Legal Imaging Software", "Case Management Systems", "Document Management", "Application Deployment"],
            impact: "Maintained 98% user satisfaction rating while supporting mission-critical legal applications"
        }
                    ]
                }
            ],
            
            // Current independent projects and activities
            projects: [
                {
                    name: "CyberLifeCoach.pro",
                    description: "Personal cybersecurity blog and resource site sharing practical security insights, GRC best practices, and career guidance",
                    technologies: ["Web Development", "Content Writing", "SEO", "Technical Blogging"],
                    impact: "Growing platform helping cybersecurity professionals with practical, no-nonsense security guidance"
                },
                {
                    name: "Substack Technical Writing",
                    description: "Regular publication of in-depth cybersecurity articles covering risk management, compliance, and security engineering topics",
                    technologies: ["Technical Writing", "Content Strategy", "Audience Engagement"],
                    impact: "Building audience of cybersecurity professionals seeking actionable security knowledge"
                },
                {
                    name: "AI-Powered Security Tools",
                    description: "Development of AI-powered tools for cybersecurity professionals including this interactive portfolio with intelligent chatbot and job fit analysis",
                    technologies: ["JavaScript", "AI Integration", "Web Development", "Pattern Matching", "Natural Language Processing"],
                    impact: "Creating innovative tools that help security professionals showcase expertise and match opportunities"
                }
            ],
            
            education: "MBA in Information Technology Knowledge Management from California Intercontinental University. Bachelor of Science from University of Michigan, Flint. Associate of Science from University of Indianapolis.",
            
            certifications: [
                "CISSP (ISC2) - Certified Information Systems Security Professional",
                "CISA - Certified Information Systems Auditor", 
                "AWS Solutions Architect",
                "Azure Administrator",
                "AWS Cloud Practitioner",
                "CEH v9 - Certified Ethical Hacker",
                "CompTIA Security+",
                "CompTIA Network+",
                "CompTIA A+",
                "MCSE 2003",
                "MCSA 2008",
                "MCTS SQL Server 2008 & 2012",
                "CCNA",
                "Linux+",
                "Storage+",
                "Project+",
                "CTT+ (Certified Technical Trainer)",
                "Google IT Support Professional",
                "G-Suite Administration",
                "DAWIA Level II - Systems Engineering",
                "DAWIA Level I - Information Technology"
            ],
            
            interests: [
                "Building AI-powered cybersecurity tools",
                "Technical writing and security blogging at CyberLifeCoach.pro",
                "Risk management framework implementation",
                "Cloud security architecture",
                "Security automation and tooling",
                "Helping cybersecurity professionals advance their careers",
                "Continuous learning in emerging security technologies"
            ],
            
            clearance: "SECRET - Active Security Clearance (Granted: 12/21/10)",
            
            // Contact and professional profiles
            contact: {
                email: "marc.larouche@gmail.com",
                location: "Los Angeles, CA",
                linkedin: "linkedin.com/in/marcjlarouche",
                website: "CyberLifeCoach.pro"
            }
        };

        // ============================================
        // INTELLIGENT CHATBOT ENGINE
        // ============================================
        const chatMessages = document.getElementById('chatMessages');
        const chatInput = document.getElementById('chatInput');
        const sendBtn = document.getElementById('sendBtn');

        // Knowledge base for pattern matching
        const knowledgeBase = {
            // Greetings
            greetings: {
                patterns: ["hello", "hi", "hey", "greetings", "good morning", "good afternoon", "sup", "what's up"],
                responses: [
                    `Hello! I'm here to tell you about ${CANDIDATE_INFO.name}'s professional background. What would you like to know?`,
                    `Hi there! Feel free to ask me anything about ${CANDIDATE_INFO.name}'s skills, experience, or projects.`,
                    `Hey! I'd be happy to answer your questions about ${CANDIDATE_INFO.name}'s career and expertise.`
                ]
            },
            
            // Who are you / tell me about
            about: {
                patterns: ["who are you", "who is marc", "tell me about", "about you", "about marc", "introduce"],
                responses: () => {
                    return [`${CANDIDATE_INFO.name} is a ${CANDIDATE_INFO.title.toLowerCase()} with ${CANDIDATE_INFO.about.yearsExperience} years of experience. ${CANDIDATE_INFO.about.summary} ${CANDIDATE_INFO.name.split(' ')[0]} has completed ${CANDIDATE_INFO.about.projectsCompleted} projects and worked with ${CANDIDATE_INFO.about.happyClients} satisfied clients.`];
                }
            },
            
            // Skills questions
            skills: {
                patterns: ["skill", "technology", "technologies", "tech stack", "tools", "programming", "languages", "what can", "proficient", "know how"],
                responses: () => {
                    let response = `${CANDIDATE_INFO.name} has expertise across multiple domains:\n\n`;
                    for (const [category, skills] of Object.entries(CANDIDATE_INFO.skills)) {
                        response += `**${category}:** ${skills.slice(0, 5).join(', ')}${skills.length > 5 ? ', and more' : ''}\n\n`;
                    }
                    response += `With ${CANDIDATE_INFO.about.yearsExperience} years of experience, ${CANDIDATE_INFO.name.split(' ')[0]} has deep expertise in full-stack development.`;
                    return [response];
                }
            },
            
            // Experience questions
            experience: {
                patterns: ["experience", "background", "worked", "career", "history", "previous", "past", "jobs", "work history"],
                responses: () => {
                    let response = `${CANDIDATE_INFO.name} has ${CANDIDATE_INFO.about.yearsExperience} years of professional experience:\n\n`;
                    CANDIDATE_INFO.experience.forEach((exp, i) => {
                        response += `**${exp.title}** at ${exp.company} (${exp.period})\n${exp.description}`;
                        
                        // Include projects if available
                        if (exp.projectsAtCompany && exp.projectsAtCompany.length > 0) {
                            response += `\n\n*Key Projects:*\n`;
                            exp.projectsAtCompany.forEach(proj => {
                                response += `â€¢ ${proj.name}: ${proj.description}\n`;
                            });
                        }
                        response += `\n\n`;
                    });
                    return [response];
                }
            },
            
            // Specific company questions
            atCompany: {
                patterns: ["at tech innovations", "at digital solutions", "at startup labs", "what did you do at", "work at"],
                responses: (userMessage) => {
                    // Try to find which company they're asking about
                    const msg = userMessage.toLowerCase();
                    let targetCompany = null;
                    
                    CANDIDATE_INFO.experience.forEach(job => {
                        if (msg.includes(job.company.toLowerCase())) {
                            targetCompany = job;
                        }
                    });
                    
                    if (targetCompany) {
                        let response = `**${targetCompany.title}** at ${targetCompany.company} (${targetCompany.period})\n\n${targetCompany.description}`;
                        
                        if (targetCompany.projectsAtCompany && targetCompany.projectsAtCompany.length > 0) {
                            response += `\n\n**Projects at ${targetCompany.company}:**\n\n`;
                            targetCompany.projectsAtCompany.forEach(proj => {
                                response += `**${proj.name}**\n${proj.description}\n*Technologies:* ${proj.technologies.join(', ')}\n*Impact:* ${proj.impact}\n\n`;
                            });
                        }
                        return [response];
                    }
                    
                    // Default if company not found
                    return [`I can tell you about ${CANDIDATE_INFO.name}'s work at: ${CANDIDATE_INFO.experience.map(e => e.company).join(', ')}. Which would you like to know more about?`];
                }
            },
            
            // Current role
            current: {
                patterns: ["current", "now", "currently", "present", "today", "latest", "what do you do", "where do you work"],
                responses: () => {
                    const current = CANDIDATE_INFO.experience[0];
                    return [`${CANDIDATE_INFO.name} is currently a **${current.title}** at ${current.company}. ${current.description}`];
                }
            },
            
            // Projects
            projects: {
                patterns: ["project", "built", "created", "developed", "portfolio", "work samples", "examples of work"],
                responses: () => {
                    let response = `${CANDIDATE_INFO.name} has worked on ${CANDIDATE_INFO.about.projectsCompleted} projects. Here are some highlights:\n\n`;
                    
                    // Include standalone projects
                    if (CANDIDATE_INFO.projects && CANDIDATE_INFO.projects.length > 0) {
                        CANDIDATE_INFO.projects.forEach((proj) => {
                            response += `**${proj.name}:** ${proj.description}. Built with ${proj.technologies.slice(0, 3).join(', ')}. ${proj.impact}\n\n`;
                        });
                    }
                    
                    // Include projects from work experience
                    CANDIDATE_INFO.experience.forEach((job) => {
                        if (job.projectsAtCompany && job.projectsAtCompany.length > 0) {
                            response += `**At ${job.company}:**\n`;
                            job.projectsAtCompany.forEach((proj) => {
                                response += `â€¢ **${proj.name}:** ${proj.description}. ${proj.impact}\n`;
                            });
                            response += `\n`;
                        }
                    });
                    
                    return [response];
                }
            },
            
            // Leadership
            leadership: {
                patterns: ["lead", "leadership", "manage", "management", "team", "mentor", "coach", "supervised"],
                responses: () => {
                    const leadershipSkills = CANDIDATE_INFO.skills["Leadership"];
                    return [
                        `${CANDIDATE_INFO.name} has strong leadership experience including ${leadershipSkills.join(', ')}. ${CANDIDATE_INFO.name.split(' ')[0]} has mentored multiple junior developers and led cross-functional teams on complex projects. Currently leading a team at ${CANDIDATE_INFO.experience[0].company}.`
                    ];
                }
            },
            
            // Education
            education: {
                patterns: ["education", "degree", "university", "college", "studied", "certification", "certified", "qualified"],
                responses: () => {
                    return [
                        `**Education:** ${CANDIDATE_INFO.education}\n\n**Certifications:** ${CANDIDATE_INFO.certifications.join(', ')}\n\nThese certifications demonstrate ${CANDIDATE_INFO.name.split(' ')[0]}'s commitment to continuous learning and staying current with industry best practices.`
                    ];
                }
            },
            
            // Cloud/AWS specific
            cloud: {
                patterns: ["cloud", "aws", "azure", "gcp", "kubernetes", "docker", "devops", "infrastructure"],
                responses: () => {
                    const cloudSkills = CANDIDATE_INFO.skills["DevOps & Cloud"];
                    return [
                        `${CANDIDATE_INFO.name} has extensive cloud experience with ${cloudSkills.join(', ')}. ${CANDIDATE_INFO.name.split(' ')[0]} has architected and deployed scalable cloud infrastructure serving hundreds of thousands of users with 99.9% uptime.`
                    ];
                }
            },
            
            // Frontend
            frontend: {
                patterns: ["frontend", "front-end", "react", "vue", "angular", "ui", "user interface", "ux"],
                responses: () => {
                    const frontendSkills = CANDIDATE_INFO.skills["Frontend Development"];
                    return [
                        `${CANDIDATE_INFO.name} is highly skilled in frontend development with ${frontendSkills.slice(0, 5).join(', ')}, and more. ${CANDIDATE_INFO.name.split(' ')[0]} specializes in building responsive, performant user interfaces that provide excellent user experiences.`
                    ];
                }
            },
            
            // Backend
            backend: {
                patterns: ["backend", "back-end", "api", "apis", "server", "database", "node", "python", "microservices"],
                responses: () => {
                    const backendSkills = CANDIDATE_INFO.skills["Backend Development"];
                    return [
                        `${CANDIDATE_INFO.name} has strong backend expertise including ${backendSkills.slice(0, 5).join(', ')}, and more. ${CANDIDATE_INFO.name.split(' ')[0]} has built scalable APIs and microservices architectures handling millions of requests.`
                    ];
                }
            },
            
            // Accomplishments
            accomplishments: {
                patterns: ["accomplish", "achievement", "success", "results", "impact", "improved", "increased"],
                responses: () => {
                    return [
                        `${CANDIDATE_INFO.name} has achieved significant results including:\n\nâ€¢ Reduced system latency by 40% through microservices architecture\nâ€¢ Improved code coverage to 95% with automated testing\nâ€¢ Led platform serving 100K+ users with 99.9% uptime\nâ€¢ Mentored multiple developers to senior positions\nâ€¢ Delivered ${CANDIDATE_INFO.about.projectsCompleted} successful projects`
                    ];
                }
            },
            
            // Availability / Looking for
            availability: {
                patterns: ["available", "looking for", "seeking", "open to", "interested in", "opportunity", "opportunities"],
                responses: [
                    `${CANDIDATE_INFO.name} is open to discussing new opportunities! The best way to reach out is through the contact section below, or directly at marc@marclarouche.com.`,
                ]
            },
            
            // Contact/hire
            contact: {
                patterns: ["hire", "contact", "reach", "email", "get in touch", "connect", "linkedin"],
                responses: [
                    `You can reach ${CANDIDATE_INFO.name} via:\nâ€¢ **Email:** marc@marclarouche.com\nâ€¢ **LinkedIn:** /marclarouche\nâ€¢ **GitHub:** /marclarouche\n\nFeel free to reach out - ${CANDIDATE_INFO.name.split(' ')[0]} is always happy to discuss new opportunities!`,
                ]
            },
            
            // Salary / Compensation
            salary: {
                patterns: ["salary", "compensation", "pay", "rate", "cost", "price"],
                responses: [
                    `Compensation discussions are best handled directly with ${CANDIDATE_INFO.name}. Please reach out via email at marc@marclarouche.com to discuss specifics.`,
                ]
            },
            
            // Why hire / strengths
            why: {
                patterns: ["why hire", "why choose", "what makes", "strengths", "best at", "stand out"],
                responses: [
                    `${CANDIDATE_INFO.name} brings:\n\nâœ“ ${CANDIDATE_INFO.about.yearsExperience} years of proven experience\nâœ“ Full-stack expertise across modern tech stacks\nâœ“ Leadership and mentorship skills\nâœ“ Track record of delivering scalable solutions\nâœ“ ${CANDIDATE_INFO.about.projectsCompleted} successfully completed projects\nâœ“ Strong communication and collaboration abilities\n\n${CANDIDATE_INFO.name.split(' ')[0]} combines technical excellence with the ability to lead teams and drive results.`
                ]
            }
        };

        function findBestMatch(userMessage) {
            const message = userMessage.toLowerCase();
            
            // Check each category
            for (const [category, data] of Object.entries(knowledgeBase)) {
                for (const pattern of data.patterns) {
                    if (message.includes(pattern)) {
                        const responses = typeof data.responses === 'function' ? data.responses(userMessage) : data.responses;
                        return responses[Math.floor(Math.random() * responses.length)];
                    }
                }
            }
            
            // Default response
            return `I'm not sure I understand that specific question. Try asking about:\nâ€¢ ${CANDIDATE_INFO.name}'s skills and technologies\nâ€¢ Work experience and background\nâ€¢ Specific companies ${CANDIDATE_INFO.name.split(' ')[0]} worked at\nâ€¢ Projects and accomplishments\nâ€¢ Leadership and team experience\nâ€¢ Education and certifications\nâ€¢ How to get in contact`;
        }

        function addMessage(content, isUser = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'assistant'}`;
            
            // Convert markdown-style bold to HTML
            const formattedContent = content.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/\n/g, '<br>');
            messageDiv.innerHTML = formattedContent;
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function addLoadingMessage() {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message loading';
            messageDiv.id = 'loadingMessage';
            messageDiv.innerHTML = '<div class="loading-dots"><span></span><span></span><span></span></div>';
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            return messageDiv;
        }

        function sendChatMessage(message = null) {
            const userMessage = message || chatInput.value.trim();
            if (!userMessage) return;

            addMessage(userMessage, true);
            if (!message) chatInput.value = '';
            sendBtn.disabled = true;
            
            const loadingMsg = addLoadingMessage();
            
            // Simulate thinking time
            setTimeout(() => {
                loadingMsg.remove();
                const response = findBestMatch(userMessage);
                addMessage(response);
                sendBtn.disabled = false;
            }, 600);
        }

        sendBtn.addEventListener('click', () => sendChatMessage());
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendChatMessage();
            }
        });

        // Suggestion pills
        document.querySelectorAll('.suggestion-pill').forEach(pill => {
            pill.addEventListener('click', () => {
                const question = pill.getAttribute('data-question');
                sendChatMessage(question);
            });
        });

        // ============================================
        // JOB FIT CHECKER
        // ============================================
        const jobDescription = document.getElementById('jobDescription');
        const checkFitBtn = document.getElementById('checkFitBtn');
        const fitResult = document.getElementById('fitResult');

        function analyzeJobFit(jobDesc) {
            const jobLower = jobDesc.toLowerCase();
            
            // Extract all candidate skills into flat array
            let allSkills = [];
            for (const skillCategory of Object.values(CANDIDATE_INFO.skills)) {
                allSkills = allSkills.concat(skillCategory.map(s => s.toLowerCase()));
            }
            
            // Also extract technologies from standalone projects
            if (CANDIDATE_INFO.projects) {
                CANDIDATE_INFO.projects.forEach(proj => {
                    if (proj.technologies) {
                        allSkills = allSkills.concat(proj.technologies.map(t => t.toLowerCase()));
                    }
                });
            }
            
            // Extract technologies from company projects
            CANDIDATE_INFO.experience.forEach(job => {
                if (job.projectsAtCompany) {
                    job.projectsAtCompany.forEach(proj => {
                        if (proj.technologies) {
                            allSkills = allSkills.concat(proj.technologies.map(t => t.toLowerCase()));
                        }
                    });
                }
            });
            
            // Remove duplicates
            allSkills = [...new Set(allSkills)];
            
            // Count matching skills
            let matches = 0;
            let matchedSkills = [];
            allSkills.forEach(skill => {
                if (jobLower.includes(skill.toLowerCase())) {
                    matches++;
                    matchedSkills.push(skill);
                }
            });
            
            // Check for experience level match
            const yearsRequired = jobDesc.match(/(\d+)\+?\s*years?/i);
            const candidateYears = parseInt(CANDIDATE_INFO.about.yearsExperience);
            
            // Check for leadership keywords
            const leadershipKeywords = ['lead', 'senior', 'manager', 'architect', 'principal'];
            const requiresLeadership = leadershipKeywords.some(kw => jobLower.includes(kw));
            
            // Calculate score
            let score = Math.min(95, matches * 8 + (matchedSkills.length > 0 ? 20 : 0));
            
            if (yearsRequired && candidateYears >= parseInt(yearsRequired[1])) {
                score += 10;
            }
            
            if (requiresLeadership && CANDIDATE_INFO.skills["Leadership"]) {
                score += 5;
            }
            
            // Determine level and create analysis
            let level = 'low';
            let summary = '';
            let strengths = [];
            let gaps = [];
            let recommendation = '';
            
            if (score >= 70) {
                level = 'high';
                summary = `${CANDIDATE_INFO.name} is an excellent match for this role with strong alignment across technical skills and experience.`;
                strengths = [
                    `${matchedSkills.length} directly matching technical skills`,
                    `${CANDIDATE_INFO.about.yearsExperience} years of relevant experience`,
                    `Proven track record with ${CANDIDATE_INFO.about.projectsCompleted} completed projects`
                ];
                if (requiresLeadership) {
                    strengths.push("Demonstrated leadership and team management experience");
                }
                recommendation = `${CANDIDATE_INFO.name} would be a strong candidate for this position. Recommend moving forward with an interview.`;
            } else if (score >= 45) {
                level = 'medium';
                summary = `${CANDIDATE_INFO.name} has relevant experience for this role with some skill gaps that could be addressed.`;
                strengths = [
                    `${matchedSkills.length} matching skills`,
                    `Strong foundational experience in related technologies`,
                    `${CANDIDATE_INFO.about.yearsExperience} years of professional development`
                ];
                gaps = [
                    "Some specific technologies in job description not explicitly listed",
                    "May need to demonstrate domain-specific experience"
                ];
                recommendation = `${CANDIDATE_INFO.name} could be a good fit with some training or ramp-up time. Worth considering for interview.`;
            } else {
                level = 'low';
                summary = `While ${CANDIDATE_INFO.name} has strong general technical skills, there may be limited direct overlap with this specific role's requirements.`;
                strengths = [
                    `Strong engineering fundamentals`,
                    `${CANDIDATE_INFO.about.yearsExperience} years of software development experience`,
                    "Proven ability to learn new technologies"
                ];
                gaps = [
                    "Limited direct experience with key technologies mentioned",
                    "Different primary tech stack than what's required"
                ];
                recommendation = `Consider ${CANDIDATE_INFO.name} if the role has flexibility or if transferable skills are valued over specific experience.`;
            }
            
            return { score, level, summary, strengths, gaps, recommendation };
        }

        function displayFitResult(analysis) {
            const scoreClass = analysis.level === 'high' ? 'score-high' : 
                              analysis.level === 'medium' ? 'score-medium' : 'score-low';
            
            fitResult.innerHTML = `
                <h4>Compatibility Analysis</h4>
                <div class="fit-score">
                    <div class="score-circle ${scoreClass}">${analysis.score}%</div>
                    <div>
                        <strong>Match Level: ${analysis.level.toUpperCase()}</strong>
                        <p style="margin: 0.5rem 0 0 0; color: var(--gray);">${analysis.summary}</p>
                    </div>
                </div>
                <div style="margin-top: 1.5rem;">
                    <strong style="color: var(--primary); display: block; margin-bottom: 0.5rem;">âœ“ Key Strengths:</strong>
                    <ul style="margin: 0; padding-left: 1.5rem; color: var(--gray);">
                        ${analysis.strengths.map(s => `<li>${s}</li>`).join('')}
                    </ul>
                </div>
                ${analysis.gaps.length > 0 ? `
                <div style="margin-top: 1rem;">
                    <strong style="color: var(--accent); display: block; margin-bottom: 0.5rem;">âš  Areas to Consider:</strong>
                    <ul style="margin: 0; padding-left: 1.5rem; color: var(--gray);">
                        ${analysis.gaps.map(g => `<li>${g}</li>`).join('')}
                    </ul>
                </div>
                ` : ''}
                <div style="margin-top: 1rem; padding: 1rem; background: rgba(13, 115, 119, 0.05); border-radius: 10px;">
                    <strong style="color: var(--primary);">ðŸ’¡ Recommendation:</strong>
                    <p style="margin: 0.5rem 0 0 0; color: var(--gray);">${analysis.recommendation}</p>
                </div>
            `;
            fitResult.classList.add('show');
        }

        checkFitBtn.addEventListener('click', () => {
            const jobDesc = jobDescription.value.trim();
            if (!jobDesc) {
                alert('Please paste a job description first!');
                return;
            }

            checkFitBtn.disabled = true;
            checkFitBtn.textContent = 'Analyzing...';
            fitResult.classList.remove('show');

            // Simulate analysis time
            setTimeout(() => {
                const analysis = analyzeJobFit(jobDesc);
                displayFitResult(analysis);
                checkFitBtn.disabled = false;
                checkFitBtn.textContent = 'Check Compatibility';
            }, 1000);
        });

        // ============================================
        // SMOOTH SCROLLING & ANIMATIONS
        // ============================================
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Scroll reveal animation
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.scroll-reveal').forEach(el => {
            observer.observe(el);
        });

        // Active nav link on scroll
        window.addEventListener('scroll', () => {
            let current = '';
            const sections = document.querySelectorAll('section');
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (pageYOffset >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }
            });

            document.querySelectorAll('nav a').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        });
