        // üìù CONFIGURATION SECTION - EDIT THIS!
        // ============================================
        // ============================================
        // üìù CONFIGURATION SECTION - EDIT THIS!
        // ============================================
        const CANDIDATE_INFO = {
            name: "Marc Larouche",
            title: "Cybersecurity Professional | GRC Specialist | Security Tool Developer",
            
            about: {
                summary: "Cybersecurity and GRC professional with 15+ years of experience in security governance, compliance, risk management, and information security. Expertise in NIST RMF 800-53 security frameworks, cloud security, and hands-on systems administration. Currently building AI-powered cybersecurity tools and writing about practical security at CyberLifeCoach.pro. Strong technical background in security configurations, vulnerability management, audit preparation, and technical writing.",
                yearsExperience: "15+",
                projectsCompleted: "50+",
                happyClients: "US Navy, IRS, Federal Agencies"
            },
            
            skills: {
                "Security & Compliance": [
                    "NIST 800-53", 
                    "Risk Management Framework (RMF)", 
                    "ISO 27001", 
                    "SOC2", 
                    "PCI-DSS", 
                    "FISMA Compliance",
                    "GDPR",
                    "CCPA",
                    "Security Assessments",
                    "Vulnerability Management",
                    "Security Audits",
                    "Third-Party Audit Support",
                    "SCAP",
                    "Continuous Monitoring"
                ],
                "Cloud Security": [
                    "AWS Solutions Architect",
                    "Azure Administrator",
                    "AWS Cloud Practitioner",
                    "Cloud Security Controls",
                    "AWS (EC2, S3, Lambda, RDS)",
                    "Azure Security",
                    "Cloud Governance",
                    "Cloud Compliance"
                ],
                "Systems & Infrastructure": [
                    "Windows Server 2008-2019",
                    "SQL Server 2008-2019",
                    "Hyper-V Virtualization",
                    "VMware vSphere 5.1-6.7",
                    "IIS 6-7.5",
                    "Active Directory",
                    "PowerShell",
                    "Linux Administration",
                    "Database Security",
                    "System Hardening",
                    "Disaster Recovery",
                    "Backup Solutions (Veritas)"
                ],
                "Security Tools & Technologies": [
                    "Nessus",
                    "Retina",
                    "SCAP Scanning",
                    "MBSA",
                    "Log Analysis Tools",
                    "Security Monitoring",
                    "Vulnerability Scanners",
                    "Penetration Testing Tools",
                    "SIEM Solutions"
                ],
                "Networking & Infrastructure": [
                    "CCNA",
                    "TCP/IP",
                    "VPN",
                    "Network Security",
                    "Firewall Configuration",
                    "Network Monitoring"
                ],
                "Technical Writing & Documentation": [
                    "Security Policy Development",
                    "Standard Operating Procedures (SOPs)",
                    "Technical Documentation",
                    "Compliance Documentation",
                    "Security Assessment Reports",
                    "Technical Content Editing",
                    "Exam Development",
                    "Training Materials",
                    "Instructional Design"
                ],
                "Development & Automation": [
                    "PowerShell Scripting",
                    "Python",
                    "Batch Scripting",
                    "SQL Query Development",
                    "Process Automation",
                    "AI Tool Development"
                ],
                "Leadership & Management": [
                    "Team Leadership",
                    "Project Management",
                    "Stakeholder Communication",
                    "Cross-functional Collaboration",
                    "Training & Mentoring",
                    "Continuous Process Improvement"
                ]
            },
            
            experience: [
                {
                    title: "Technical Consultant & Content Editor",
                    company: "MJTechniques, LLC",
                    period: "Jan 2022 - Nov 2023",
                    description: "Remote technical consulting focused on cybersecurity content development and technical editing. Authored and reviewed technical exams for cybersecurity, networking, and data analysis certifications. Collaborated with subject matter experts to ensure accuracy and instructional effectiveness.",
                    projectsAtCompany: [
                        {
                            name: "Cybersecurity Exam Development",
                            description: "Authored technical exam questions for cybersecurity certifications covering security frameworks, risk management, and compliance",
                            technologies: ["NIST Frameworks", "Security Concepts", "Risk Management", "Compliance Standards"],
                            impact: "Developed comprehensive exam content improving certification processes for IT professionals"
                        },
                        {
                            name: "Technical Publication Reviews",
                            description: "Conducted detailed reviews of IT and cybersecurity publications for clarity, accuracy, and instructional value",
                            technologies: ["Technical Writing", "Content Editing", "Quality Assurance"],
                            impact: "Enhanced quality and effectiveness of technical learning materials"
                        },
                        {
                            name: "SME Collaboration",
                            description: "Worked with subject matter experts to refine technical narratives and align content with learning objectives",
                            technologies: ["Instructional Design", "Technical Communication"],
                            impact: "Improved technical accuracy and learning outcomes across certification programs"
                        }
                    ]
                },
                {
                    title: "Senior Information Security Administrator",
                    company: "Naval Sea Systems Command (NAVSEA), NSWC PHD",
                    period: "Sep 2011 - Mar 2021",
                    description: "Led Risk Management Framework (RMF) implementation for securing US Navy systems. Managed security assessments, audits, compliance evaluations, and continuous monitoring for mission-critical Navy systems. Designed and implemented cloud security controls, vulnerability management programs, and security policies. Led server virtualization and P2V migration projects while maintaining FISMA compliance.",
                    projectsAtCompany: [
                        {
                            name: "RMF Implementation for Navy Systems",
                            description: "Led complete Risk Management Framework implementation for Naval System Data Support Activity (NSDSA) Knowledge Management systems",
                            technologies: ["NIST 800-53", "RMF", "FISMA", "Security Controls", "Continuous Monitoring"],
                            impact: "Achieved and maintained Authority to Operate (ATO) for critical Navy technical manual distribution systems"
                        },
                        {
                            name: "Cloud Security Controls Implementation",
                            description: "Designed and implemented security controls for AWS and Azure cloud environments supporting Navy operations",
                            technologies: ["AWS", "Azure", "Cloud Security", "NIST 800-53", "Security Architecture"],
                            impact: "Enabled secure cloud adoption while maintaining compliance with DoD security requirements"
                        },
                        {
                            name: "Virtual Server Environment Leadership",
                            description: "Led P2V migration from on-premise systems to Hyper-V virtualized infrastructure for NSDSA technical manual systems",
                            technologies: ["Hyper-V", "VMware vSphere", "Windows Server", "Virtualization", "Migration Planning"],
                            impact: "Improved system reliability, disaster recovery capabilities, and operational efficiency"
                        },
                        {
                            name: "SQL Server Security & Administration",
                            description: "Implemented database encryption, security audits, and monitoring for SQL Server instances supporting Navy knowledge management",
                            technologies: ["SQL Server 2008-2012", "Database Encryption", "SQL Auditing", "Security Policies", "Performance Tuning"],
                            impact: "Enhanced database security posture while maintaining 99.9% uptime for mission-critical systems"
                        },
                        {
                            name: "Security Monitoring & Log Analysis",
                            description: "Implemented comprehensive log monitoring with automated alerts for security events across web and database servers",
                            technologies: ["IIS", "SQL Server", "Log Analysis", "SIEM", "Security Monitoring", "Alerting Systems"],
                            impact: "Reduced incident response time and improved threat detection capabilities"
                        },
                        {
                            name: "Vulnerability Management Program",
                            description: "Conducted regular security evaluations using SCAP, Retina, MBSA, and Nessus scanning tools with systematic remediation tracking",
                            technologies: ["Nessus", "SCAP", "Retina", "MBSA", "Vulnerability Assessment", "Remediation Planning"],
                            impact: "Consistently met DoD security objectives with 95%+ remediation rates within required timeframes"
                        },
                        {
                            name: "Security Policy & SOP Development",
                            description: "Developed comprehensive Standard Operating Procedures covering all aspects of system administration, security operations, and compliance",
                            technologies: ["Technical Writing", "Policy Development", "Compliance Documentation", "Process Documentation"],
                            impact: "Created operational documentation meeting Navy IA requirements and improving team consistency"
                        },
                        {
                            name: "Third-Party Audit Management",
                            description: "Managed external security audits ensuring regulatory compliance with NIST 800-53 and DoD requirements",
                            technologies: ["Audit Preparation", "Evidence Collection", "Compliance Reporting", "Stakeholder Management"],
                            impact: "Successfully passed all security audits with zero critical findings"
                        },
                        {
                            name: "Datacenter Migration Project",
                            description: "Coordinated V2V datacenter migration for NSDSA and TDMIS servers with zero downtime during transition",
                            technologies: ["Migration Planning", "Risk Management", "Testing", "Coordination", "Change Management"],
                            impact: "Seamless migration maintaining operational availability for Fleet users worldwide"
                        }
                    ]
                },
                {
                    title: "Information Technology Specialist (GS-2210-12)",
                    company: "Internal Revenue Service (IRS), Office of Chief Counsel",
                    period: "Sep 2004 - Sep 2011",
                    description: "Managed security compliance for IRS IT infrastructure across Western Area offices. Led security hardening initiatives, conducted security audits and risk assessments aligned with federal standards. Provided technical support, system administration, and security guidance for over 200 users across multiple locations.",
                    projectsAtCompany: [
        {
            name: "Security Compliance Management",
            description: "Led monthly security testing, validation, and reporting using SCAP, HFNetCheck, and Windows Policy Checker across all managed systems",
            technologies: ["SCAP", "HFNetCheck", "Windows Policy Checker", "Security Testing", "Compliance Reporting", "Vulnerability Remediation"],
            impact: "Achieved 100% security compliance rate every month meeting all federal security objectives"
        },
        {
            name: "SharePoint Administration for Western Area",
            description: "Served as SharePoint Site Administrator managing collaboration platforms for Chief Counsel Western Area offices",
            technologies: ["SharePoint", "Site Administration", "Permissions Management", "Document Management", "Workflow Configuration"],
            impact: "Enabled secure document sharing and collaboration across geographically distributed legal teams"
        },
        {
            name: "SQL Server Security Remediation",
            description: "Team member on organization-wide SQL server remediation project assisting remote offices in identifying and securing vulnerable SQL installations",
            technologies: ["SQL Server", "Security Hardening", "Vulnerability Assessment", "Remote Support", "Patch Management"],
            impact: "Eliminated critical SQL vulnerabilities across Western Area infrastructure protecting sensitive IRS data"
        },
        {
            name: "IBM Backup System Security Fix",
            description: "Identified critical open port vulnerability in IBM tape backup systems and coordinated with IBM engineers to develop and implement resolution",
            technologies: ["IBM Backup Systems", "Vulnerability Analysis", "Vendor Coordination", "Security Patching", "Port Security"],
            impact: "Closed critical security vulnerability protecting backup infrastructure from potential exploitation"
        },
        {
            name: "Veritas Backup Administration",
            description: "Primary Veritas Site Backup Administrator for Los Angeles office and secondary administrator for Thousand Oaks remote office",
            technologies: ["Veritas Backup Exec", "Tape Backup", "Disaster Recovery", "Backup Monitoring", "Restoration Procedures"],
            impact: "Maintained 99.9% backup success rate with zero data loss incidents across both locations"
        },
        {
            name: "Rapid Desktop Deployment Program",
            description: "Developed streamlined process to build, deploy, and configure desktops, laptops, and mobile devices within 4-hour turnaround",
            technologies: ["Windows Deployment", "Imaging", "Configuration Management", "Hardware Installation", "User Setup"],
            impact: "Reduced deployment time from 2 days to 4 hours significantly improving customer satisfaction"
        },
        {
            name: "IT Knowledge Base Development",
            description: "Created comprehensive Chief Counsel IT Knowledge Base for new IT specialists covering business operations, applications, and support procedures",
            technologies: ["Knowledge Management", "Documentation", "Process Documentation", "Training Materials", "SharePoint"],
            impact: "Reduced new IT specialist onboarding time by 40% through structured knowledge transfer"
        },
        {
            name: "New Hire Computer Training Course",
            description: "Designed and delivered Introduction to Computer Course addressing skill gaps in new Chief Counsel employees",
            technologies: ["Instructional Design", "Training Delivery", "Skills Assessment", "Microsoft Office", "Email Systems"],
            impact: "Improved technical proficiency of new employees reducing support burden by 30%"
        },
        {
            name: "E-Discovery Technical Support",
            description: "Provided technical support for e-discovery team in gathering electronic records to meet legal discovery inquiries and litigation holds",
            technologies: ["E-Discovery Tools", "PST Collection", "Email Archives", "Legal Hold", "Chain of Custody", "Data Preservation"],
            impact: "Enabled timely and accurate responses to discovery requests supporting Chief Counsel litigation efforts"
        },
        {
            name: "Imaging Device Security Deployment",
            description: "Led installation, security configuration, and deployment of network imaging devices, printers, and multifunction copiers/scanners",
            technologies: ["Network Printers", "MFP Security", "Device Configuration", "Access Control", "Secure Printing"],
            impact: "Deployed 50+ secure imaging devices meeting IRS security standards"
        },
        {
            name: "Remote Office VPN Support",
            description: "Provided VPN troubleshooting and remote support for distributed offices using RDP and SMS management tools",
            technologies: ["VPN", "Remote Desktop", "SMS", "Remote Troubleshooting", "Network Connectivity"],
            impact: "Maintained secure connectivity for remote workers with 95% first-call resolution rate"
        },
        {
            name: "Automated Deployment & Security Scripts",
            description: "Developed and scheduled batch jobs and SMS scripts for automated software deployment and security configuration across servers and endpoints",
            technologies: ["Batch Scripting", "SMS", "Task Scheduler", "Automation", "Configuration Management"],
            impact: "Automated routine tasks saving 20+ hours weekly and ensuring consistent security configurations"
        },
        {
            name: "Legal Applications Support",
            description: "Installed and supported COTS applications, legal imaging software, and in-house IRS applications providing excellent customer service",
            technologies: ["Legal Imaging Software", "Case Management Systems", "Document Management", "Application Deployment"],
            impact: "Maintained 98% user satisfaction rating while supporting mission-critical legal applications"
        }
                    ]
                }
            ],
            
            // Current independent projects and activities
            projects: [
                {
                    name: "CyberLifeCoach.pro",
                    description: "Personal cybersecurity blog and resource site sharing practical security insights, GRC best practices, and career guidance",
                    technologies: ["Web Development", "Content Writing", "SEO", "Technical Blogging"],
                    impact: "Growing platform helping cybersecurity professionals with practical, no-nonsense security guidance"
                },
                {
                    name: "Substack Technical Writing",
                    description: "Regular publication of in-depth cybersecurity articles covering risk management, compliance, and security engineering topics",
                    technologies: ["Technical Writing", "Content Strategy", "Audience Engagement"],
                    impact: "Building audience of cybersecurity professionals seeking actionable security knowledge"
                },
                {
                    name: "AI-Powered Security Tools",
                    description: "Development of AI-powered tools for cybersecurity professionals including this interactive portfolio with intelligent chatbot and job fit analysis",
                    technologies: ["JavaScript", "AI Integration", "Web Development", "Pattern Matching", "Natural Language Processing"],
                    impact: "Creating innovative tools that help security professionals showcase expertise and match opportunities"
                }
            ],
            
            education: "MBA in Information Technology Knowledge Management from California Intercontinental University. Bachelor of Science from University of Michigan, Flint. Associate of Science from University of Indianapolis.",
            
            certifications: [
                "CISSP (ISC2) - Certified Information Systems Security Professional",
                "CISA - Certified Information Systems Auditor", 
                "AWS Solutions Architect",
                "Azure Administrator",
                "AWS Cloud Practitioner",
                "CEH v9 - Certified Ethical Hacker",
                "CompTIA Security+",
                "CompTIA Network+",
                "CompTIA A+",
                "MCSE 2003",
                "MCSA 2008",
                "MCTS SQL Server 2008 & 2012",
                "CCNA",
                "Linux+",
                "Storage+",
                "Project+",
                "CTT+ (Certified Technical Trainer)",
                "Google IT Support Professional",
                "G-Suite Administration",
                "DAWIA Level II - Systems Engineering",
                "DAWIA Level I - Information Technology"
            ],
            
            interests: [
                "Building AI-powered cybersecurity tools",
                "Technical writing and security blogging at CyberLifeCoach.pro",
                "Risk management framework implementation",
                "Cloud security architecture",
                "Security automation and tooling",
                "Helping cybersecurity professionals advance their careers",
                "Continuous learning in emerging security technologies"
            ],
            
            clearance: "SECRET - Active Security Clearance (Granted: 12/21/10)",
            
            // Contact and professional profiles
            contact: {
                email: "marc.larouche@gmail.com",
                location: "Los Angeles, CA",
                linkedin: "linkedin.com/in/marcjlarouche",
                website: "CyberLifeCoach.pro"
            }
        };

      /* ============================================
   COPY EVERYTHING BELOW THIS LINE
   ============================================
   
   INSTRUCTIONS:
   1. Open your js/script.js file
   2. Find line 352: // INTELLIGENT CHATBOT ENGINE
   3. Delete from line 352 to line 651 (the entire chatbot section)
   4. Paste everything from "// ========" below to the end of this file
   5. Save and refresh browser
   
   ============================================ */


// ============================================
// INTELLIGENT CHATBOT ENGINE - IMPROVED
// ============================================
const chatMessages = document.getElementById('chatMessages');
const chatInput = document.getElementById('chatInput');
const sendBtn = document.getElementById('sendBtn');

// ============================================
// Q&A DATABASE - 30 pairs (expand to 50-100)
// ============================================
const chatbotResponses = [
    // ===== GENERAL BACKGROUND & EXPERIENCE =====
    {
        id: 1,
        category: "experience",
        keywords: ["experience", "years", "background", "worked", "career", "long"],
        response: `${CANDIDATE_INFO.name} has over 15 years of experience in cybersecurity and GRC. He's worked with federal agencies including the US Navy and IRS, implementing NIST RMF, managing security audits, and leading technical teams. His experience spans compliance, cloud security, vulnerability management, and technical writing.`
    },
    {
        id: 2,
        category: "summary",
        keywords: ["about", "tell me about", "who", "summary", "overview"],
        response: `${CANDIDATE_INFO.name} is a cybersecurity and GRC professional specializing in NIST 800-53, Risk Management Framework, and security compliance. He combines hands-on security engineering with strong technical writing skills. Currently building AI-powered security tools and writing at CyberLifeCoach.pro.`
    },
    {
        id: 3,
        category: "companies",
        keywords: ["companies", "where worked", "employers", "organizations"],
        response: `${CANDIDATE_INFO.name} has worked with:\n‚Ä¢ Naval Sea Systems Command (NAVSEA) - 10 years\n‚Ä¢ IRS Chief Counsel - 9+ years\n‚Ä¢ MJTechniques LLC (remote consulting) - 2 years\n\nHe's secured mission-critical systems for federal agencies and supported compliance initiatives across government organizations.`
    },

    // ===== TECHNICAL SKILLS =====
    {
        id: 4,
        category: "skills-nist",
        keywords: ["nist", "800-53", "rmf", "risk management framework", "fisma"],
        response: `${CANDIDATE_INFO.name} has deep expertise in NIST 800-53 and the Risk Management Framework (RMF). He's led complete RMF implementations for Navy systems, achieved Authority to Operate (ATO) for critical infrastructure, and managed continuous monitoring programs. He's also experienced with FISMA compliance and security control assessments.`
    },
    {
        id: 5,
        category: "skills-cloud",
        keywords: ["aws", "amazon", "cloud", "azure", "ec2", "s3", "lambda"],
        response: `${CANDIDATE_INFO.name} holds AWS Solutions Architect and Azure Administrator certifications. He's designed and implemented security controls for AWS and Azure cloud environments supporting government operations. Experience includes EC2, S3, Lambda, RDS, IAM, CloudWatch, and cloud compliance frameworks.`
    },
    {
        id: 6,
        category: "skills-compliance",
        keywords: ["compliance", "audit", "iso", "soc2", "pci", "gdpr"],
        response: `${CANDIDATE_INFO.name} has extensive compliance experience including:\n‚Ä¢ ISO 27001/27002 implementation\n‚Ä¢ SOC 2 audit preparation\n‚Ä¢ PCI-DSS compliance\n‚Ä¢ GDPR and CCPA frameworks\n‚Ä¢ Third-party audit support\n‚Ä¢ Security assessment and gap analysis`
    },
    {
        id: 7,
        category: "skills-grc",
        keywords: ["grc", "governance", "risk", "policy", "assessment"],
        response: `GRC is one of ${CANDIDATE_INFO.name}'s core competencies. He's developed security policies, led risk assessments, managed compliance programs, and supported security audits. He excels at translating complex security requirements into practical implementation guidance.`
    },
    {
        id: 8,
        category: "skills-vulnerability",
        keywords: ["vulnerability", "scanning", "nessus", "remediation", "patching"],
        response: `${CANDIDATE_INFO.name} has hands-on experience with vulnerability management including:\n‚Ä¢ Nessus and Retina scanning\n‚Ä¢ SCAP compliance validation\n‚Ä¢ Vulnerability remediation coordination\n‚Ä¢ Patch management\n‚Ä¢ Risk prioritization\n‚Ä¢ Monthly security testing and reporting`
    },
    {
        id: 9,
        category: "skills-systems",
        keywords: ["windows", "server", "sql", "active directory", "powershell"],
        response: `${CANDIDATE_INFO.name} has strong systems administration background:\n‚Ä¢ Windows Server 2008-2019\n‚Ä¢ SQL Server 2008-2019\n‚Ä¢ Active Directory management\n‚Ä¢ PowerShell scripting\n‚Ä¢ IIS web server\n‚Ä¢ Hyper-V and VMware virtualization`
    },
    {
        id: 10,
        category: "skills-writing",
        keywords: ["writing", "documentation", "technical writer", "sop", "policy"],
        response: `Technical writing is one of ${CANDIDATE_INFO.name}'s differentiators. He's created:\n‚Ä¢ Security policies and procedures\n‚Ä¢ Compliance documentation\n‚Ä¢ Security assessment reports\n‚Ä¢ Training materials\n‚Ä¢ Exam content for certifications\n‚Ä¢ Technical blog content at CyberLifeCoach.pro\n\nHe excels at making complex security topics clear and actionable.`
    },
    {
        id: 11,
        category: "skills-python",
        keywords: ["python", "programming", "scripting", "automation", "code"],
        response: `${CANDIDATE_INFO.name} is proficient in Python for security automation, data analysis, and tool development. He also has experience with PowerShell, batch scripting, and SQL for various security and systems tasks. Currently building AI-powered cybersecurity tools.`
    },
    {
    id: 12,
    category: "skills-sql-server",
    keywords: ["sql", "sql server", "database", "mssql", "t-sql", "transact-sql", "database security"],
    response: `${CANDIDATE_INFO.name} has extensive SQL Server experience spanning versions 2008-2019. He holds MCTS certifications in SQL Server 2008 and 2012. His expertise includes:\n‚Ä¢ Database security and hardening\n‚Ä¢ SQL query development and optimization\n‚Ä¢ Backup and recovery operations (Veritas)\n‚Ä¢ Vulnerability remediation and patching\n‚Ä¢ Security configuration and access control\n‚Ä¢ Performance monitoring and troubleshooting\n\nHe led SQL Server security remediation projects at the IRS, securing vulnerable installations across remote offices.`
    },

    // ===== CERTIFICATIONS =====
    {
        id: 13,
        category: "certifications",
        keywords: ["certification", "certified", "certs", "credentials", "cissp", "ceh"],
        response: `${CANDIDATE_INFO.name} holds extensive certifications including:\n\nüõ°Ô∏è **Security:** CISSP, CISA, CEH, Security+\n‚òÅÔ∏è **Cloud:** AWS Solutions Architect, Azure Administrator\nüîß **Systems:** MCSE, MCSA, MCTS SQL Server, CCNA\nüìö **Plus:** Network+, Linux+, Storage+, Project+, CTT+\n\nHe maintains current knowledge through continuous learning and hands-on practice.`
    },
    {
        id: 14,
        category: "clearance",
        keywords: ["clearance", "security clearance", "secret", "top secret"],
        response: `${CANDIDATE_INFO.name} holds an active SECRET security clearance from his work with federal agencies. He has extensive experience working in classified environments and understands the unique security requirements of government systems.`
    },

    // ===== SPECIFIC PROJECTS =====
    {
        id: 15,
        category: "projects-navy",
        keywords: ["navy", "navsea", "federal", "government", "dod"],
        response: `At Naval Sea Systems Command, ${CANDIDATE_INFO.name} led:\n‚Ä¢ Complete RMF implementation for Navy Knowledge Management systems\n‚Ä¢ Cloud security controls for AWS/Azure environments\n‚Ä¢ Virtual server environment management (300+ VMs)\n‚Ä¢ Vulnerability management programs\n‚Ä¢ Security audits and continuous monitoring\n\nHe achieved and maintained Authority to Operate (ATO) for mission-critical systems.`
    },
    {
        id: 16,
        category: "projects-irs",
        keywords: ["irs", "tax", "chief counsel"],
        response: `At the IRS Chief Counsel, ${CANDIDATE_INFO.name}:\n‚Ä¢ Maintained 100% security compliance through monthly SCAP testing\n‚Ä¢ Led SQL Server security remediation project\n‚Ä¢ Developed rapid desktop deployment program (reduced time from 2 days to 4 hours)\n‚Ä¢ Created IT Knowledge Base for new specialists\n‚Ä¢ Supported e-discovery and legal hold processes\n\nHe excelled at balancing security with operational efficiency.`
    },
    {
        id: 17,
        category: "projects-current",
        keywords: ["current", "now", "currently", "cyberlifecoach", "blog"],
        response: `Currently, ${CANDIDATE_INFO.name} is:\n‚Ä¢ Building AI-powered cybersecurity tools\n‚Ä¢ Writing practical security content at CyberLifeCoach.pro\n‚Ä¢ Developing mobile security apps (launching in Apple App Store)\n‚Ä¢ Creating this interactive portfolio concept\n‚Ä¢ Consulting on technical content and security topics\n\nHe's focused on making security more accessible and practical.`
    },

    // ===== WORK STYLE & LEADERSHIP =====
    {
        id: 18,
        category: "leadership",
        keywords: ["leadership", "lead", "manage", "team", "mentor"],
        response: `${CANDIDATE_INFO.name} has led cross-functional security teams and IT operations. His leadership style emphasizes:\n‚Ä¢ Clear communication and documentation\n‚Ä¢ Mentoring and knowledge transfer\n‚Ä¢ Practical solutions over theoretical perfection\n‚Ä¢ Collaboration with stakeholders\n‚Ä¢ Continuous process improvement\n\nHe's trained new employees and created comprehensive onboarding materials.`
    },
    {
        id: 19,
        category: "remote",
        keywords: ["remote", "hybrid", "location", "relocate", "where"],
        response: `${CANDIDATE_INFO.name} is open to remote, hybrid, or on-site positions. He's currently based in California and has experience working with distributed teams. He's flexible on relocation for the right opportunity and has worked successfully in both government office environments and remote consulting roles.`
    },
    {
        id: 20,
        category: "work-style",
        keywords: ["work style", "approach", "how you work", "methodology"],
        response: `${CANDIDATE_INFO.name}'s approach:\n‚Ä¢ **Practical first** - Security that actually works\n‚Ä¢ **Clear communication** - No jargon, just clarity\n‚Ä¢ **Continuous learning** - Stays current with threats\n‚Ä¢ **Collaboration** - Works well across teams\n‚Ä¢ **Documentation** - Everything is documented\n‚Ä¢ **Results-focused** - Measurable improvements\n\nHe believes in security that enables the mission, not blocks it.`
    },

    // ===== AVAILABILITY & LOGISTICS =====
    {
        id: 21,
        category: "availability",
        keywords: ["available", "start", "when", "notice", "timeline"],
        response: `${CANDIDATE_INFO.name} is open to discussing new opportunities! He can typically start within 2-4 weeks depending on the role and transition requirements. For specific availability and timing, please reach out via email at marc@marclarouche.com.`
    },
    {
        id: 22,
        category: "salary",
        keywords: ["salary", "compensation", "pay", "rate", "cost", "expect"],
        response: `Compensation discussions are best handled directly with ${CANDIDATE_INFO.name}. His expectations are competitive for his experience level and skill set. Please reach out via email at marc@marclarouche.com to discuss specifics based on the role and requirements.`
    },
    {
        id: 23,
        category: "job-type",
        keywords: ["full-time", "contract", "consultant", "consulting", "freelance"],
        response: `${CANDIDATE_INFO.name} is open to various arrangements including full-time employment, contract positions, or consulting engagements. The best fit depends on the project scope and organizational needs. He's flexible and happy to discuss what works best for both parties.`
    },

    // ===== WHY HIRE / STRENGTHS =====
    {
        id: 24,
        category: "why-hire",
        keywords: ["why hire", "why choose", "what makes", "best", "unique", "stand out"],
        response: `${CANDIDATE_INFO.name} offers a rare combination:\n\n‚úì **Technical depth** - 15+ years hands-on experience\n‚úì **Compliance expertise** - NIST, ISO, FISMA implementation\n‚úì **Communication skills** - Technical writer who explains clearly\n‚úì **Practical approach** - Security that works in real environments\n‚úì **Federal experience** - Understands government requirements\n‚úì **Current skills** - Cloud, AI, modern tooling\n\nHe bridges the gap between security theory and practical implementation.`
    },
    {
        id: 25,
        category: "accomplishments",
        keywords: ["accomplish", "achievement", "success", "proud", "impact"],
        response: `Key accomplishments:\n\n‚Ä¢ Led RMF implementation achieving ATO for critical Navy systems\n‚Ä¢ Maintained 100% security compliance rate at IRS\n‚Ä¢ Reduced desktop deployment time from 2 days to 4 hours\n‚Ä¢ Managed 300+ virtual servers with 99.9% uptime\n‚Ä¢ Created knowledge base reducing onboarding time 40%\n‚Ä¢ Identified and resolved critical backup system vulnerability\n\n${CANDIDATE_INFO.name} focuses on measurable improvements, not just process.`
    },

    // ===== INDUSTRY EXPERIENCE =====
    {
        id: 26,
        category: "industries",
        keywords: ["industry", "sector", "domain", "healthcare", "finance"],
        response: `${CANDIDATE_INFO.name} has primarily worked in:\n‚Ä¢ **Federal Government** - Navy, IRS, defense contractors\n‚Ä¢ **Cybersecurity** - Security tools and consulting\n\nHis security frameworks (NIST, ISO) translate across industries. He's interested in healthcare, finance, and technology sectors where strong security and compliance are critical.`
    },

    // ===== EDUCATION =====
    {
        id: 27,
        category: "education",
        keywords: ["education", "degree", "school", "university", "mba"],
        response: `${CANDIDATE_INFO.name} holds:\n‚Ä¢ **MBA** in Information Technology Knowledge Management - California Intercontinental University\n‚Ä¢ **Bachelor of Science** - University of Michigan, Flint\n‚Ä¢ **Associate of Science** - University of Indianapolis\n\nPlus 15+ professional certifications across security, cloud, and IT infrastructure.`
    },

    // ===== TOOLS & TECHNOLOGIES =====
    {
        id: 28,
        category: "tools-security",
        keywords: ["tools", "security tools", "siem", "scanner"],
        response: `${CANDIDATE_INFO.name} has hands-on experience with:\n‚Ä¢ **Scanners:** Nessus, Retina, SCAP, MBSA\n‚Ä¢ **Monitoring:** Log analysis, SIEM solutions\n‚Ä¢ **Pen testing:** Burp Suite, Metasploit, Wireshark\n‚Ä¢ **Compliance:** SCAP validation, continuous monitoring\n‚Ä¢ **Cloud:** AWS Security Hub, Azure Security Center`
    },

    // ===== CONTACT & NEXT STEPS =====
    {
        id: 29,
        category: "contact",
        keywords: ["contact", "reach", "email", "get in touch", "hire", "connect"],
        response: `You can reach ${CANDIDATE_INFO.name} via:\n\nüìß **Email:** marc@marclarouche.com\nüíº **LinkedIn:** linkedin.com/in/marcjlarouche\nüíª **GitHub:** github.com/marclarouche\nüåê **Blog:** CyberLifeCoach.pro\n\nFeel free to reach out to discuss opportunities or ask more specific questions!`
    },
    {
        id: 30,
        category: "interview",
        keywords: ["interview", "next step", "process", "call", "meeting"],
        response: `${CANDIDATE_INFO.name} would be happy to discuss the role in more detail! The best next step is to reach out via email at marc@marclarouche.com to schedule a call. He's typically available for phone or video interviews and can be flexible with scheduling.`
    },
    {
        id: 31,
        category: "resume",
        keywords: ["resume", "cv", "download", "portfolio"],
        response: `You're already viewing ${CANDIDATE_INFO.name}'s interactive portfolio! For a traditional resume, you can use the "Download Resume" button in the contact section. This portfolio provides much more detail about his background, but a PDF resume is available if needed.`
    },

    // ===== GREETINGS =====
    {
        id: 32,
        category: "greetings",
        keywords: ["hello", "hi", "hey", "greetings", "good morning", "good afternoon", "sup", "what's up"],
        response: `Hello! I'm here to tell you about ${CANDIDATE_INFO.name}'s professional background. What would you like to know? Try asking about his experience, skills, certifications, or projects!`
    },
    {
        id: 33,
        category: "skills-penetration-testing",
        keywords: ["penetration testing", "pentest", "ethical hacking", "hacking", "pen test"],
        response: "Marc holds the Certified Ethical Hacker (CEH) certification and has hands-on penetration testing experience. He's used tools like Metasploit, Burp Suite, Nmap, and Wireshark to conduct security assessments of web applications, networks, and infrastructure. He understands both offensive and defensive security perspectives."
    },
    {
        id: 34,
        category: "skills-incident-response",
        keywords: ["incident response", "incident", "breach", "security incident", "ir"],
        response: "Marc has experience with incident response planning and execution. He's developed incident response procedures, participated in security incident investigations, and coordinated remediation efforts. His approach includes rapid containment, thorough investigation, and lessons-learned documentation."
    },
    {
        id: 35,
        category: "skills-virtualization",
        keywords: ["virtualization", "vmware", "hyper-v", "virtual", "vm", "vsphere"],
        response: "Marc has extensive virtualization experience managing 300+ virtual servers at NAVSEA. He's worked with:\n‚Ä¢ VMware vSphere 5.1-6.7\n‚Ä¢ Hyper-V on Windows Server\n‚Ä¢ P2V migrations (physical to virtual)\n‚Ä¢ Virtual environment security\n‚Ä¢ Resource optimization\n‚Ä¢ High availability configurations"
    },
    {
        id: 36,
        category: "skills-networking",
        keywords: ["networking", "network", "ccna", "tcp/ip", "vpn", "firewall"],
        response: "Marc holds CCNA certification and has strong networking fundamentals including TCP/IP, VPN configuration, network security, and firewall management. He's troubleshot network connectivity issues, configured secure remote access, and implemented network security controls in federal environments."
    },
    {
        id: 37,
        category: "skills-disaster-recovery",
        keywords: ["disaster recovery", "dr", "backup", "business continuity", "continuity"],
        response: "Marc has hands-on disaster recovery experience including:\n‚Ä¢ Veritas Backup Exec administration\n‚Ä¢ Tape backup operations\n‚Ä¢ Backup monitoring and verification\n‚Ä¢ Restoration procedures and testing\n‚Ä¢ 99.9% backup success rate with zero data loss\n\nHe served as primary backup administrator for multiple office locations."
    },
    {
        id: 38,
        category: "methodology-agile",
        keywords: ["agile", "scrum", "sprint", "methodology", "project management"],
        response: "Marc has worked in both traditional and agile environments. He understands iterative development, sprint planning, and cross-functional collaboration. His project management experience includes coordinating security initiatives, managing timelines, and communicating progress to stakeholders."
    },
    {
        id: 39,
        category: "soft-skills-communication",
        keywords: ["communication", "presentation", "explain", "stakeholder", "executive"],
        response: "Communication is one of Marc's core strengths. As a technical writer, he excels at:\n‚Ä¢ Translating complex security concepts for non-technical audiences\n‚Ä¢ Creating executive briefings and reports\n‚Ä¢ Presenting to stakeholders at all levels\n‚Ä¢ Writing clear, actionable documentation\n‚Ä¢ Training and mentoring team members\n\nHe bridges the gap between technical teams and business leadership."
    },
    {
        id: 40,
        category: "challenge-overcome",
        keywords: ["challenge", "difficult", "problem", "overcome", "hardest"],
        response: "One of Marc's biggest challenges was maintaining 100% security compliance at the IRS while managing monthly SCAP testing across hundreds of systems. He developed automated processes, created comprehensive testing schedules, and coordinated with multiple teams to consistently meet all federal security objectives without exceptions."
    },
    {
        id: 41,
        category: "why-cybersecurity",
        keywords: ["why cybersecurity", "why security", "got into", "interested in security"],
        response: "Marc has been passionate about cybersecurity for 15+ years. He's drawn to the field because it combines technical problem-solving, continuous learning, and real-world impact. He enjoys protecting critical systems, improving security postures, and helping organizations navigate complex compliance requirements while maintaining operational efficiency."
    },
    {
        id: 42,
        category: "continuous-learning",
        keywords: ["learning", "stay current", "up to date", "latest", "trends"],
        response: "Marc stays current through:\n‚Ä¢ Writing and researching for CyberLifeCoach.pro\n‚Ä¢ Building AI-powered security tools\n‚Ä¢ Following security news and threat intelligence\n‚Ä¢ Hands-on lab work and experimentation\n‚Ä¢ Professional certifications and training\n‚Ä¢ Networking with security professionals\n\nHe believes continuous learning is essential in the ever-evolving cybersecurity landscape."
    },
    {
        id: 43,
        category: "tools-scap",
        keywords: ["scap", "scanning", "compliance scanning", "security compliance automation"],
        response: "Marc has extensive SCAP (Security Content Automation Protocol) experience from his federal work. He conducted monthly SCAP testing across all managed systems, achieving 100% compliance rates. He's familiar with SCAP validation tools, remediation workflows, and continuous monitoring requirements for FISMA compliance."
    },
    {
        id: 44,
        category: "framework-soc2",
        keywords: ["soc 2", "soc2", "service organization control", "trust services"],
        response: "Marc has SOC 2 audit preparation experience including gap assessments, control implementation, and working with auditors. He understands the Trust Services Criteria (security, availability, confidentiality, processing integrity, privacy) and how to map controls to business processes for successful certification."
    },
    {
        id: 45,
        category: "framework-pci",
        keywords: ["pci", "pci dss", "pci-dss", "payment card", "cardholder"],
        response: "Marc has PCI-DSS compliance experience including understanding the 12 requirements, implementing compensating controls, conducting self-assessments, and preparing for external audits. He's secured systems handling sensitive payment data and understands the specific requirements for cardholder data environments."
    },
    {
        id: 46,
        category: "team-size",
        keywords: ["team size", "how many people", "size of team", "team members"],
        response: "Marc has led and worked with security teams ranging from 3-15 people. At NAVSEA, he managed technical staff and coordinated cross-functional security initiatives. At IRS, he worked within a larger IT organization providing security and systems support. He's comfortable in both small agile teams and large enterprise environments."
    },
    {
        id: 47,
        category: "biggest-weakness",
        keywords: ["weakness", "weaknesses", "improve", "working on", "areas for growth"],
        response: "Marc is always working to improve. One area he's focusing on is expanding his cloud-native security expertise beyond traditional infrastructure. While he has strong AWS and Azure fundamentals, he's continuously deepening his knowledge of container security, serverless architectures, and cloud-native security tools to stay current with modern technology stacks."
    },
    {
        id: 48,
        category: "ideal-role",
        keywords: ["ideal role", "looking for", "perfect role", "dream job", "ideal position"],
        response: "Marc's ideal role combines security engineering, GRC, and technical leadership. He thrives in positions where he can:\n‚Ä¢ Implement practical security controls\n‚Ä¢ Navigate compliance requirements\n‚Ä¢ Mentor team members\n‚Ä¢ Communicate with stakeholders\n‚Ä¢ Make measurable security improvements\n\nHe's interested in organizations that value both technical excellence and clear communication."
    },
    {
        id: 49,
        category: "references",
        keywords: ["reference", "references", "testimonial", "recommendation"],
        response: "Marc can provide professional references from his work at federal agencies and consulting engagements. References can speak to his technical expertise, work ethic, communication skills, and ability to deliver results in high-security environments. Please reach out directly to request specific references."
    },
    {
        id: 50,
        category: "portfolio-creation",
        keywords: ["portfolio", "website", "how build", "created this", "made this"],
        response: "Marc built this interactive portfolio using HTML, CSS, and JavaScript to demonstrate his technical skills and differentiate himself from traditional PDF resumes. The pattern-matching chatbot uses keyword recognition, and the job fit checker analyzes skill alignment. This portfolio concept is now available as a service for other professionals at ai-portfolio-service.html."
    },
    {
        id: 51,
        category: "work-life-balance",
        keywords: ["work life balance", "hours", "overtime", "work-life", "flexible"],
        response: "Marc values sustainable productivity and work-life balance. He's efficient during work hours through strong time management and automation. He's flexible when projects demand extra effort but believes that consistent, focused work produces better results than constant overtime. He respects both professional commitments and personal time."
    },
    {
        id: 52,
        category: "security-philosophy",
        keywords: ["security philosophy", "approach to security", "security mindset", "security perspective"],
        response: "Marc's security philosophy is 'practical security that enables the mission.' He believes:\n‚Ä¢ Security should facilitate business objectives, not block them\n‚Ä¢ Perfect security doesn't exist - risk management is key\n‚Ä¢ Documentation and communication are as important as technical controls\n‚Ä¢ Compliance frameworks are tools, not goals\n‚Ä¢ People, process, and technology must work together\n\nHe focuses on measurable improvements over checkbox compliance."
    },

    // ===== DEFAULT/FALLBACK =====
    {
        id: 999,
        category: "fallback",
        keywords: ["*"], // Special wildcard for fallback
        response: `I'm not sure I understood that specific question. Try asking about:\n\n‚Ä¢ ${CANDIDATE_INFO.name}'s technical skills and certifications\n‚Ä¢ Work experience at Navy or IRS\n‚Ä¢ Leadership and team management\n‚Ä¢ Compliance frameworks (NIST, ISO, etc.)\n‚Ä¢ Current projects and interests\n‚Ä¢ How to get in contact\n\nOr ask something more specific about his background!`
    }
];

// ============================================
// PATTERN MATCHING LOGIC
// ============================================
function findBestChatbotMatch(userMessage) {
    const message = userMessage.toLowerCase().trim();
    let bestMatch = null;
    let bestScore = 0;

    // Check each response for keyword matches
    for (const response of chatbotResponses) {
        // Skip fallback for now
        if (response.category === "fallback") continue;

        let score = 0;
        
        // Count how many keywords match
        for (const keyword of response.keywords) {
            if (message.includes(keyword.toLowerCase())) {
                score++;
            }
        }

        // Update best match if this scores higher
        if (score > bestScore) {
            bestScore = score;
            bestMatch = response;
        }
    }

    // If no good match, return fallback
    if (bestScore === 0 || !bestMatch) {
        return chatbotResponses.find(r => r.category === "fallback").response;
    }

    return bestMatch.response;
}

// ============================================
// CHAT UI FUNCTIONS
// ============================================
function addMessage(content, isUser = false) {
    const messageDiv = document.createElement('div');
    messageDiv.className = `message ${isUser ? 'user' : 'assistant'}`;
    
    // Convert markdown-style bold to HTML and preserve line breaks
    const formattedContent = content
        .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
        .replace(/\n/g, '<br>');
    
    messageDiv.innerHTML = formattedContent;
    chatMessages.appendChild(messageDiv);
    chatMessages.scrollTop = chatMessages.scrollHeight;
}

function addLoadingMessage() {
    const messageDiv = document.createElement('div');
    messageDiv.className = 'message loading';
    messageDiv.id = 'loadingMessage';
    messageDiv.innerHTML = '<div class="loading-dots"><span></span><span></span><span></span></div>';
    chatMessages.appendChild(messageDiv);
    chatMessages.scrollTop = chatMessages.scrollHeight;
    return messageDiv;
}

function sendChatMessage(message = null) {
    const userMessage = message || chatInput.value.trim();
    if (!userMessage) return;

    addMessage(userMessage, true);
    if (!message) chatInput.value = '';
    sendBtn.disabled = true;
    
    const loadingMsg = addLoadingMessage();
    
    // Simulate thinking time (makes it feel more natural)
    setTimeout(() => {
        loadingMsg.remove();
        const response = findBestChatbotMatch(userMessage);
        addMessage(response);
        sendBtn.disabled = false;
        chatInput.focus(); // Return focus to input
    }, 600);
}

// ============================================
// EVENT LISTENERS
// ============================================
sendBtn.addEventListener('click', () => sendChatMessage());

chatInput.addEventListener('keypress', (e) => {
    if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        sendChatMessage();
    }
});

// Suggestion pills
document.querySelectorAll('.suggestion-pill').forEach(pill => {
    pill.addEventListener('click', () => {
        const question = pill.getAttribute('data-question');
        sendChatMessage(question);
    });
});

// ============================================
// END OF CHATBOT SECTION
// ============================================

        // ============================================
        // JOB FIT CHECKER
        // ============================================
        const jobDescription = document.getElementById('jobDescription');
        const checkFitBtn = document.getElementById('checkFitBtn');
        const fitResult = document.getElementById('fitResult');

        function analyzeJobFit(jobDesc) {
            const jobLower = jobDesc.toLowerCase();
            
            // Extract all candidate skills into flat array
            let allSkills = [];
            for (const skillCategory of Object.values(CANDIDATE_INFO.skills)) {
                allSkills = allSkills.concat(skillCategory.map(s => s.toLowerCase()));
            }
            
            // Also extract technologies from standalone projects
            if (CANDIDATE_INFO.projects) {
                CANDIDATE_INFO.projects.forEach(proj => {
                    if (proj.technologies) {
                        allSkills = allSkills.concat(proj.technologies.map(t => t.toLowerCase()));
                    }
                });
            }
            
            // Extract technologies from company projects
            CANDIDATE_INFO.experience.forEach(job => {
                if (job.projectsAtCompany) {
                    job.projectsAtCompany.forEach(proj => {
                        if (proj.technologies) {
                            allSkills = allSkills.concat(proj.technologies.map(t => t.toLowerCase()));
                        }
                    });
                }
            });
            
            // Remove duplicates
            allSkills = [...new Set(allSkills)];
            
            // Count matching skills
            let matches = 0;
            let matchedSkills = [];
            allSkills.forEach(skill => {
                if (jobLower.includes(skill.toLowerCase())) {
                    matches++;
                    matchedSkills.push(skill);
                }
            });
            
            // Check for experience level match
            const yearsRequired = jobDesc.match(/(\d+)\+?\s*years?/i);
            const candidateYears = parseInt(CANDIDATE_INFO.about.yearsExperience);
            
            // Check for leadership keywords
            const leadershipKeywords = ['lead', 'senior', 'manager', 'architect', 'principal'];
            const requiresLeadership = leadershipKeywords.some(kw => jobLower.includes(kw));
            
            // Calculate score
            let score = Math.min(95, matches * 8 + (matchedSkills.length > 0 ? 20 : 0));
            
            if (yearsRequired && candidateYears >= parseInt(yearsRequired[1])) {
                score += 10;
            }
            
            if (requiresLeadership && CANDIDATE_INFO.skills["Leadership"]) {
                score += 5;
            }
            
            // Determine level and create analysis
            let level = 'low';
            let summary = '';
            let strengths = [];
            let gaps = [];
            let recommendation = '';
            
            if (score >= 70) {
                level = 'high';
                summary = `${CANDIDATE_INFO.name} is an excellent match for this role with strong alignment across technical skills and experience.`;
                strengths = [
                    `${matchedSkills.length} directly matching technical skills`,
                    `${CANDIDATE_INFO.about.yearsExperience} years of relevant experience`,
                    `Proven track record with ${CANDIDATE_INFO.about.projectsCompleted} completed projects`
                ];
                if (requiresLeadership) {
                    strengths.push("Demonstrated leadership and team management experience");
                }
                recommendation = `${CANDIDATE_INFO.name} would be a strong candidate for this position. Recommend moving forward with an interview.`;
            } else if (score >= 45) {
                level = 'medium';
                summary = `${CANDIDATE_INFO.name} has relevant experience for this role with some skill gaps that could be addressed.`;
                strengths = [
                    `${matchedSkills.length} matching skills`,
                    `Strong foundational experience in related technologies`,
                    `${CANDIDATE_INFO.about.yearsExperience} years of professional development`
                ];
                gaps = [
                    "Some specific technologies in job description not explicitly listed",
                    "May need to demonstrate domain-specific experience"
                ];
                recommendation = `${CANDIDATE_INFO.name} could be a good fit with some training or ramp-up time. Worth considering for interview.`;
            } else {
                level = 'low';
                summary = `While ${CANDIDATE_INFO.name} has strong general technical skills, there may be limited direct overlap with this specific role's requirements.`;
                strengths = [
                    `Strong engineering fundamentals`,
                    `${CANDIDATE_INFO.about.yearsExperience} years of software development experience`,
                    "Proven ability to learn new technologies"
                ];
                gaps = [
                    "Limited direct experience with key technologies mentioned",
                    "Different primary tech stack than what's required"
                ];
                recommendation = `Consider ${CANDIDATE_INFO.name} if the role has flexibility or if transferable skills are valued over specific experience.`;
            }
            
            return { score, level, summary, strengths, gaps, recommendation };
        }

        function displayFitResult(analysis) {
            const scoreClass = analysis.level === 'high' ? 'score-high' : 
                              analysis.level === 'medium' ? 'score-medium' : 'score-low';
            
            fitResult.innerHTML = `
                <h4>Compatibility Analysis</h4>
                <div class="fit-score">
                    <div class="score-circle ${scoreClass}">${analysis.score}%</div>
                    <div>
                        <strong>Match Level: ${analysis.level.toUpperCase()}</strong>
                        <p style="margin: 0.5rem 0 0 0; color: var(--gray);">${analysis.summary}</p>
                    </div>
                </div>
                <div style="margin-top: 1.5rem;">
                    <strong style="color: var(--primary); display: block; margin-bottom: 0.5rem;">‚úì Key Strengths:</strong>
                    <ul style="margin: 0; padding-left: 1.5rem; color: var(--gray);">
                        ${analysis.strengths.map(s => `<li>${s}</li>`).join('')}
                    </ul>
                </div>
                ${analysis.gaps.length > 0 ? `
                <div style="margin-top: 1rem;">
                    <strong style="color: var(--accent); display: block; margin-bottom: 0.5rem;">‚ö† Areas to Consider:</strong>
                    <ul style="margin: 0; padding-left: 1.5rem; color: var(--gray);">
                        ${analysis.gaps.map(g => `<li>${g}</li>`).join('')}
                    </ul>
                </div>
                ` : ''}
                <div style="margin-top: 1rem; padding: 1rem; background: rgba(13, 115, 119, 0.05); border-radius: 10px;">
                    <strong style="color: var(--primary);">üí° Recommendation:</strong>
                    <p style="margin: 0.5rem 0 0 0; color: var(--gray);">${analysis.recommendation}</p>
                </div>
            `;
            fitResult.classList.add('show');
        }

        checkFitBtn.addEventListener('click', () => {
            const jobDesc = jobDescription.value.trim();
            if (!jobDesc) {
                alert('Please paste a job description first!');
                return;
            }

            checkFitBtn.disabled = true;
            checkFitBtn.textContent = 'Analyzing...';
            fitResult.classList.remove('show');

            // Simulate analysis time
            setTimeout(() => {
                const analysis = analyzeJobFit(jobDesc);
                displayFitResult(analysis);
                checkFitBtn.disabled = false;
                checkFitBtn.textContent = 'Check Compatibility';
            }, 1000);
        });

        // ============================================
        // SMOOTH SCROLLING & ANIMATIONS
        // ============================================
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Scroll reveal animation
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.scroll-reveal').forEach(el => {
            observer.observe(el);
        });

        // Active nav link on scroll
        window.addEventListener('scroll', () => {
            let current = '';
            const sections = document.querySelectorAll('section');
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (pageYOffset >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }
            });

            document.querySelectorAll('nav a').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        });
